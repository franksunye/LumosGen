# 🤖 LumosGen AI 监控使用指南

## 📊 实时成本和使用情况监控

LumosGen 提供了完整的 AI 服务监控功能，让用户可以实时查看成本、使用情况和性能指标。

## 🔍 如何查看监控数据

### 方法 1: 状态栏快速查看
在 VS Code 底部状态栏右侧，您会看到 LumosGen 的实时状态：

```
$(pulse) DeepSeek | $0.023 | 15 reqs
```

- **$(pulse) DeepSeek**: 当前使用的 AI 提供商
- **$0.023**: 总花费金额
- **15 reqs**: 总请求次数

**点击状态栏**即可打开详细监控面板。

### 方法 2: 命令面板
1. 按 `Ctrl+Shift+P` (Windows/Linux) 或 `Cmd+Shift+P` (Mac)
2. 输入 "LumosGen: Show AI Monitoring"
3. 按回车打开监控面板

### 方法 3: 侧边栏
1. 点击 VS Code 左侧的 LumosGen 图标
2. 在侧边栏中找到 "AI Monitoring" 按钮
3. 点击打开监控面板

## 📈 监控面板功能

### 💰 成本概览
- **总花费**: 所有 AI 服务的累计成本
- **今日成本**: 当天的花费
- **预估节省**: 与 OpenAI 相比的成本节省

### 📊 使用统计
- **总请求数**: 所有 AI 请求的总数
- **总 Token 数**: 输入和输出 Token 的总和
- **成功率**: API 调用的成功百分比
- **进度条**: 可视化成功率

### 🔄 提供商状态
- **当前提供商**: 正在使用的 AI 服务
- **可用提供商**: 所有已配置的提供商
- **降级策略**: DeepSeek → OpenAI → Mock

### 📈 分提供商统计
每个 AI 提供商的详细统计：
- **请求数**: 该提供商处理的请求
- **Token 使用**: 输入/输出 Token 统计
- **成本**: 该提供商的花费
- **错误数**: 失败的请求数

## 🛠️ 监控面板操作

### 🔄 刷新数据
点击 "🔄 Refresh" 按钮手动刷新监控数据（每5秒自动刷新）

### 📥 导出数据
1. 点击 "📥 Export Data" 按钮
2. 选择保存位置
3. 数据将以 JSON 格式导出，包含：
   - 使用统计
   - 健康检查结果
   - 成本分析
   - 时间戳

### 🗑️ 重置统计
点击 "🗑️ Reset Stats" 按钮清除所有统计数据（需要确认）

## 💡 成本优化建议

### 🌙 利用 DeepSeek 优惠时段
- **优惠时间**: UTC 16:30-00:30 (北京时间 00:30-08:30)
- **折扣幅度**: 50-75% 折扣
- **建议**: 在优惠时段进行大量内容生成

### 📊 成本对比
| 提供商 | 输入成本 | 输出成本 | 节省比例 |
|--------|----------|----------|----------|
| **DeepSeek (标准)** | $0.27/1M | $1.10/1M | ~45% |
| **DeepSeek (优惠)** | $0.135/1M | $0.550/1M | **~90%** |
| OpenAI | $0.15/1M | $0.60/1M | 基准 |

### 🎯 使用建议
1. **优先使用 DeepSeek**: 成本更低，质量相当
2. **监控使用量**: 定期查看监控面板
3. **设置预算**: 关注每日/每月花费
4. **优化时间**: 在优惠时段进行批量操作

## 🚨 告警和通知

### 成本告警
- **每日限额**: 超过 $10 时显示警告
- **总额限额**: 超过 $100 时显示警告
- **状态栏提示**: 实时显示当前花费

### 性能监控
- **响应时间**: 监控 API 响应速度
- **成功率**: 跟踪请求成功率
- **错误率**: 监控失败请求

## 🔧 故障排除

### 监控面板无法打开
1. 检查 VS Code 版本是否支持
2. 重启 VS Code
3. 查看输出面板的错误信息

### 数据不更新
1. 点击刷新按钮
2. 检查 AI 服务配置
3. 确认网络连接正常

### 成本计算不准确
1. 检查 API 密钥配置
2. 确认提供商设置正确
3. 查看详细的 Token 使用情况

## 📱 移动端支持

LumosGen 监控面板针对不同屏幕尺寸进行了优化：
- **响应式设计**: 自适应屏幕大小
- **触摸友好**: 支持触摸操作
- **简洁界面**: 重要信息优先显示

## 🔐 隐私和安全

### 数据保护
- **本地存储**: 所有监控数据存储在本地
- **不上传**: 不会向外部服务发送监控数据
- **加密传输**: API 调用使用 HTTPS 加密

### 敏感信息
- **API 密钥**: 安全存储在 VS Code 设置中
- **使用数据**: 仅用于本地监控和优化
- **导出控制**: 用户完全控制数据导出

## 🆘 获取帮助

### 常见问题
- 查看 [FAQ 文档](./FAQ.md)
- 检查 [故障排除指南](./TROUBLESHOOTING.md)

### 技术支持
- GitHub Issues: [提交问题](https://github.com/franksunye/LumosGen/issues)
- 文档反馈: [改进建议](https://github.com/franksunye/LumosGen/discussions)

### 功能请求
- 新功能建议: [功能请求](https://github.com/franksunye/LumosGen/discussions/categories/ideas)
- 改进建议: [用户反馈](https://github.com/franksunye/LumosGen/discussions/categories/feedback)

---

**💡 提示**: 监控功能帮助您优化 AI 使用成本，建议定期查看以获得最佳体验！
